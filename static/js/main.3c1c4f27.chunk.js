(this["webpackJsonpclean-candles-example"]=this["webpackJsonpclean-candles-example"]||[]).push([[0],{136:function(t,e,a){t.exports=a(146)},137:function(t,e,a){},145:function(t,e,a){},146:function(t,e,a){"use strict";a.r(e);a(137);var r=a(0),n=a.n(r),c=a(29),o=a.n(c),l=a(31),i=a(1),s=a(30),u=a.n(s),h=function(t,e,a,r,n){return a?e/(n-r)*t*a.k:e/(n-r)*t},m=function(t){var e=t.data,a=t.chartHeight,c=t.chartWidth,o=t.id,l=void 0===o?"myZoomableLineChart":o,s=Object(r.useRef)(),m=Object(r.useRef)(),f=Object(i.c)(),b=function(t){var e=Object(r.useState)(null),a=e[0],n=e[1];return Object(r.useEffect)((function(){var e=t.current,a=new ResizeObserver((function(t){t.forEach((function(t){n(t.contentRect)}))}));return a.observe(e),function(){a.unobserve(e)}}),[t]),a}(m),d=Object(r.useState)([]),g=d[0],p=d[1],j=Object(r.useState)([]),O=j[0],v=j[1],x=Object(r.useState)(null),y=x[0],E=x[1],w=Object(r.useState)(!0),k=w[0],N=w[1],S=Object(r.useState)(0),D=S[0],A=S[1],B=Object(r.useState)("20vh"),R=B[0],z=B[1],H=Object(r.useState)("40vw"),M=H[0],P=H[1];return Object(r.useEffect)((function(){if(b&&e){var t=b||m.current.getBoundingClientRect(),a=t.width,r=t.height,n=Object(i.f)().domain([O[0],O[1]]).range([r,0]),c=Object(i.g)().domain(g.map((function(t){return t[4]}))).range(Object(i.e)(0,a,a/g.length)),o=Object(i.h)(".tooltip-area-candle").style("opacity",1).attr("x",r-20),l=Object(i.h)(".tooltip-area-time").style("opacity",1).attr("y",a+10),u=Object(i.h)(s.current).on("mousemove",(function(t){u.select(".y-pointer").attr("d",f([[0,Object(i.d)(t)[1]],[a,Object(i.d)(t)[1]]])).attr("stroke"," rgb(96, 103, 109)"),u.select(".x-pointer").attr("d",f([[Object(i.d)(t)[0],0],[Object(i.d)(t)[0],r]])).attr("stroke"," rgb(96, 103, 109)");var e=Object(i.h)(".tooltip-candle-text");Object(i.h)(".tooltip-time-text").text(""+c.invert(Object(i.d)(t)[0]).toLocaleTimeString()),e.text(""+n.invert(Object(i.d)(t)[1]).toFixed(2)),o.attr("transform","translate(10, "+(Object(i.d)(t)[1]-10)+")").attr("stroke","rgb(96, 103, 109)").attr("font-weight","10").attr("font-size","0.8em"),l.attr("transform","translate("+(Object(i.d)(t)[0]+10)+",10)").attr("stroke","rgb(96, 103, 109)").attr("font-weight","10").attr("font-size","0.8em")})),d=u.select(".content");if(y){var p=y.rescaleX(c),j=y.rescaleY(n);c.domain(p.domain()),n.domain(j.domain())}var v=Object(i.a)(c).tickValues(g.map((function(t,e){return 0!==e?g[e-1][4].getDay()!==t[4].getDay()?t[4]:"":t[4]}))).tickFormat(Object(i.i)("%a %b %d"));u.select(".x-axis").attr("transform","translate(0, "+r+")").call(v).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)");var x=Object(i.b)(n);u.select(".y-axis").call(x),d.selectAll(".line").data(g).join("rect").attr("class","line").attr("fill",(function(t){return e=t[0],a=t[3],e<a?"#B3ED93":"#ED9393";var e,a})).attr("x",(function(t){return c(t[4])})).attr("y",(function(t){return n(t[1])})).attr("width",function(t,e,a){return t?e/(10*a)*t.k:e/(10*a)}(y,a,D)).attr("height",(function(t){return h(t[1]-t[2],r,y,O[0],O[1])})),d.selectAll(".bar").data(g).join("rect").attr("class","bar").attr("fill","white").attr("style",(function(t){return function(t,e,a,r,n){var c=a/(4*r);return n&&(c*=n.k),t<e?"outline: thin solid #B3ED93; transform: translateX(-"+c+"px)":"outline: thin solid #ED9393; transform: translateX(-"+c+"px)"}(t[0],t[3],a,D,y)})).attr("x",(function(t){return c(t[4])})).attr("width",(function(t){return function(t,e,a){return t?e/(2*a)*t.k:e/(2*a)}(y,a,D)})).attr("y",(function(t){return n(function(t){return t[0]>t[3]?t[0]:t[3]}(t))})).attr("height",(function(t){return h(function(t){return t[0]>t[3]?t[0]-t[3]:t[3]-t[0]}(t),r,y,O[0],O[1])}));var w=Object(i.j)().scaleExtent([1,15]).translateExtent([[0,0],[a,r]]).on("zoom",(function(){var t=Object(i.k)(s.current);E(t)}));u.call(w)}}),[y,b]),n.a.createElement("div",{ref:m,style:{marginBottom:"2rem",width:M,height:R}},g.length>1?n.a.createElement("svg",{ref:s,style:{height:"100%",cursor:"crosshair",background:"rgb(255, 255, 255)",overflow:"visible",display:"block",width:"100%"}},n.a.createElement("defs",null,n.a.createElement("clipPath",{id:l},n.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%"}))),n.a.createElement("g",{className:"content",clipPath:"url(#"+l+")"},n.a.createElement("path",{className:"y-pointer"}),n.a.createElement("path",{className:"x-pointer"})),n.a.createElement("g",{className:"x-axis",clipPath:"url(#"+l+")",style:{color:"color: rgb(96, 103, 109)"}}),n.a.createElement("g",{className:"y-axis",style:{color:"color: rgb(96, 103, 109)"}}),n.a.createElement("g",{className:"tooltip-area-candle"},n.a.createElement("text",{className:"tooltip-candle-text"})),n.a.createElement("g",{className:"tooltip-area-time"},n.a.createElement("text",{className:"tooltip-time-text"}))):n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:R,width:M}}," ",function(t){if(!(t.length>1))return n.a.createElement(u.a,{type:"bars",color:"rgb(96, 103, 109)",height:"10%",width:"10%"});if(k){var e=[],r=[],o=[];t.forEach((function(t,a){r.push(t[2]),o.push(t[1]),t[4]=new Date(1e3*t[4]),0===t[4].getDay()||6===t[4].getDay()||t[4].getHours()<9||t[4].getHours()>16||e.push(t)})),r=Math.min.apply(Math,r),o=Math.max.apply(Math,o),p(e),v([r-r/e.length,o+o/e.length]),A(e.length),N(!1)}a&&z(a),c&&P(c)}(e)," "))};a(145);var f=()=>{const t=n.a.useState([]),e=Object(l.a)(t,2),a=e[0],r=e[1];return n.a.useEffect(()=>{fetch("https://finnhub.io/api/v1/stock/candle?symbol=AAPL&resolution=60&from=1500543327&to=1580645165&token=sandbox_c007t0n48v6r2qrrjr90").then(t=>t.json()).then(t=>{let e=[];for(let a=0;a<t.c.length;a++){let r=[t.o[a],t.h[a],t.l[a],t.c[a],t.t[a]];e.push(r)}r(e)})},[]),n.a.createElement("div",{className:"chart-container"},n.a.createElement(m,{data:a,chartHeight:"50vh",chartWidth:"50vw"}))};o.a.render(n.a.createElement(f,null),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.3c1c4f27.chunk.js.map